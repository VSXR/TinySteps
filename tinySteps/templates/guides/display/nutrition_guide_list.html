{% extends 'guides/base/guide_list_base.html' %}
{% load static %}
{% load i18n %}
{% load custom_filters %}

{% block title %}{% trans "Nutrition Guides - Tiny Steps" %}{% endblock %}

{% block extra_filters %}
<div class="col-md-3">
    <label for="category" class="form-label">{% trans "Category" %}</label>
    <select class="form-select" id="category" name="category">
        <option value="">{% trans "All Categories" %}</option>
        {% for category in categories %}
        {% endfor %}
    </select>
</div>
<div class="col-md-3">
    <label for="age_group" class="form-label">{% trans "Age Group" %}</label>
    <select class="form-select" id="age_group" name="age_group">
        <option value="">{% trans "All Ages" %}</option>
        <option value="0-6" {% if request.GET.age_group == '0-6' %}selected{% endif %}>0-6 {% trans "months" %}</option>
        <option value="6-12" {% if request.GET.age_group == '6-12' %}selected{% endif %}>6-12 {% trans "months" %}</option>
        <option value="1-3" {% if request.GET.age_group == '1-3' %}selected{% endif %}>1-3 {% trans "years" %}</option>
        <option value="3+" {% if request.GET.age_group == '3+' %}selected{% endif %}>3+ {% trans "years" %}</option>
    </select>
</div>
{% endblock %}

<!-- Debugging info - remove after fixing -->
<div class="alert alert-info">
    <p>Total guides: {{ guides.paginator.count }}</p>
    <p>Current page: {{ page_obj.number }}</p>
    <p>Total pages: {{ page_obj.paginator.num_pages }}</p>
</div>

{% block after_guides %}
    {% include "guides/components/pagination.html" %}
{% endblock %}