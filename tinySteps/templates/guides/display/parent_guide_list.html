{% extends 'guides/base/guide_list_base.html' %}
{% load static %}
{% load i18n %}
{% load custom_filters %}

{% block title %}{% trans "Parenting Guides - Tiny Steps" %}{% endblock %}

{% block extra_filters %}
<!-- Debugging info - remove after fixing -->
<div class="alert alert-info">
    <p>Total guides: {{ guides.paginator.count }}</p>
    <p>Current page: {{ page_obj.number }}</p>
    <p>Total pages: {{ page_obj.paginator.num_pages }}</p>
</div>

<div class="col-md-3">
    <label for="category" class="form-label">{% trans "Category" %}</label>
    <select class="form-select" id="category" name="category">
        <option value="">{% trans "All Categories" %}</option>
        {% for category in categories %}
        {% endfor %}
    </select>
</div>
<div class="col-md-3">
    <label for="sort" class="form-label">{% trans "Sort By" %}</label>
    <select class="form-select" id="sort" name="sort">
        <option value="newest" {% if request.GET.sort == 'newest' %}selected{% endif %}>{% trans "Newest First" %}</option>
        <option value="oldest" {% if request.GET.sort == 'oldest' %}selected{% endif %}>{% trans "Oldest First" %}</option>
        <option value="popular" {% if request.GET.sort == 'popular' %}selected{% endif %}>{% trans "Most Popular" %}</option>
    </select>
</div>
{% endblock %}

{% block after_guides %}
    {% include "guides/components/pagination.html" %}
{% endblock %}